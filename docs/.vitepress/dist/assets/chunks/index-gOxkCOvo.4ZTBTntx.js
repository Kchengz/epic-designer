import{d as R,N as y,j as b,h as k,o as d,c as m,l as t,I as r,w,m as i,F as U,D as j,M as F,al as L,am as M,n as P,t as V}from"./framework.Bp6pYewT.js";import{R as T}from"./vuedraggable.umd-Bo-O9gJ9.nAYIeQOV.js";import{T as p,y as N,C as q,h as z}from"./index-D0Hjkk1x.DbREz0MF.js";import{m as _}from"./icon.vue_vue_type_script_setup_true_lang-BKjDMfHm.DAq6Hevl.js";const E={class:"epic-component-view flex flex-col"},G={class:"search-box px-10px py-6px"},H={class:"flex flex-1 overflow-auto"},J={class:"tabs-box"},K=["title","onClick"],O={class:"h-full flex-1 overflow-auto py-2 box-border"},Q=["onClick"],A={class:"text-center pt-42px text-gray-400"},ee=R({__name:"index",setup(W){const B=p.getComponent("input"),v=y("pageSchema"),f=y("designer"),h=p.getComponentSchemaGroups(),o=b(""),x={title:"全部",list:[]},c=b(x),S=k(()=>[x,...h.value]),u=k(()=>{let a=c.value.list;if(c.value.title==="全部"){const l=h.value.map(e=>e.list);a=[].concat(...l)}return o.value?a.filter(l=>{var e;return(e=l.label)==null?void 0:e.includes(o.value)}):a});function D(a){c.value=a}function I(a){var l;const e=q(v.schemas,((l=f.state.checkedNode)==null?void 0:l.id)??"root");if(!e)return!1;let{list:n,schema:s,index:g}=e;s.children&&!p.getComponentConfingByType(s.type).childImmovable&&(n=s.children,g=s.children.length-1);const C=N(a);n.splice(g+1,0,C),f.setCheckedNode(C),z.push(v.schemas,"插入组件")}return(a,l)=>(d(),m("div",E,[t("div",G,[r(i(B),{placeholder:"搜索组件",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),clearable:"",allowClear:"",value:o.value,"onUpdate:value":l[1]||(l[1]=e=>o.value=e)},{prefix:w(()=>[r(i(_),{name:"icon-chaxun"})]),_:1},8,["modelValue","value"])]),t("div",H,[t("div",J,[(d(!0),m(U,null,j(S.value,(e,n)=>(d(),m("div",{class:P(["tab cursor-pointer truncate",{checked:c.value.title===e.title}]),key:n,title:e.title,onClick:s=>D(e)},V(e.title),11,K))),128))]),t("div",O,[r(i(T),F({modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=e=>u.value=e)},{group:{name:"edit-draggable",pull:"clone",put:!1},sort:!1,animation:180,ghostClass:"moving"},{clone:i(N),"item-key":"id",class:"grid grid-cols-[auto_auto] px-10px gap-2"}),{item:w(({element:e})=>[t("div",{class:"source-componet-item flex items-center truncate",onClick:n=>I(e)},[r(i(_),{prefix:"",name:e.icon},null,8,["name"]),t("div",null,V(e.label),1)],8,Q)]),_:1},16,["modelValue","clone"]),L(t("div",A,"没有查询到的组件",512),[[M,!u.value.length]])])])]))}});export{ee as default};
