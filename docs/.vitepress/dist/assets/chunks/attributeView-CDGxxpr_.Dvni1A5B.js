import{T as b,k,s as w,m as r,h as C}from"./index-D0Hjkk1x.DbREz0MF.js";import{d as D,N as p,h as N,j as S,x as V,o as s,c as i,F as I,D as P,n as B,l as m,t as F,I as x,m as v,e as z,R as E}from"./framework.Bp6pYewT.js";const U=["title"],j={class:"attr-input"},L=D({__name:"attributeView",setup(T){const d=p("designer"),u=p("pageSchema"),f=b.getComponentConfings(),n=N(()=>d.state.checkedNode);function h(a){var o;return typeof a.show=="boolean"?a.show:typeof a.show=="function"?(o=a.show)==null?void 0:o.call(a,{values:n.value}):!0}const l=S([]);V(()=>{var a;return(a=d.state.checkedNode)==null?void 0:a.type},()=>{var a,o;const t=(a=d.state.checkedNode)==null?void 0:a.type;if(!t)return[];const e=((o=f[t])==null?void 0:o.config.attribute)??[];l.value=[{label:"组件ID",type:"input",field:"id",componentProps:{disabled:!0}},...e],t==="page"&&l.value.push({label:"画布宽度",type:"EInputSize",field:"canvas.width",editData:u},{label:"画布高度",type:"EInputSize",field:"canvas.height",editData:u})},{immediate:!0});function y(a,o,t,e=n.value){typeof t.onChange=="function"&&t.onChange({value:a,values:e,componentAttributes:l}),t.changeSync?r(a,o,e):E(()=>{r(a,o,e)}),C.push(u.schemas,"编辑组件属性")}return(a,o)=>{var t;return s(),i("aside",{class:"epic-attribute-view",key:(t=n.value)==null?void 0:t.id},[(s(!0),i(I,null,P(l.value,e=>{var c;return s(),i("div",{key:e.field},[h(e)?(s(),i("div",{key:0,class:B(["attr-item",e.layout])},[m("div",{class:"attr-label",title:e.label},F(e.label),9,U),m("div",j,[x(v(w),{componentSchema:{...e,componentProps:{...e.componentProps,...e.field==="componentProps.defaultValue"?(c=n.value)==null?void 0:c.componentProps:{},input:!1,field:void 0,hidden:!1},show:!0,noFormItem:!0},"model-value":v(k)(e.field,e.editData??n.value),"onUpdate:modelValue":g=>y(g,e.field,e,e.editData)},null,8,["componentSchema","model-value","onUpdate:modelValue"])])],2)):z("",!0)])}),128))])}}});export{L as default};
