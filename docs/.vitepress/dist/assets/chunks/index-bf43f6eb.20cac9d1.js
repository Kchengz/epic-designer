import{i as q,k as C,r as b,m as V,o as d,c as m,d as t,e as r,v as y,u as n,S as z,a8 as D,y as I,a6 as L,a7 as P,V as Q,a0 as w}from"../app.40ba1749.js";import{R as A}from"./vuedraggable.umd-9da3e665.a0b7836e.js";import{cq as N,cy as S,cz as E,cA as F}from"./index.448dc4fe.js";import{m as _}from"./icon.vue_vue_type_script_setup_true_lang-3f9e4127.c7ab9899.js";const G={class:"epic-component-view flex flex-col"},H={class:"search-box px-10px py-6px"},J={class:"flex flex-1 overflow-auto"},K={class:"tabs-box"},O=["title","onClick"],T={class:"h-full flex-1 overflow-auto py-2 box-border"},Y=["onClick"],M={class:"text-center pt-42px text-gray-400"},le=q({__name:"index",setup(W){const B=N.getComponent("input"),p=C("pageSchema"),v=C("designer"),f=N.getComponentSchemaGroups(),o=b(""),x={title:"\u5168\u90E8",list:[]},c=b(x),R=V(()=>[x,...f.value]),u=V(()=>{let a=c.value.list;if(c.value.title==="\u5168\u90E8"){const l=f.value.map(e=>e.list);a=[].concat(...l)}return o.value?a.filter(l=>{var e;return(e=l.label)==null?void 0:e.includes(o.value)}):a});function U(a){c.value=a}function j(a){var k;var l;const e=E(p.schemas,(k=(l=v.state.checkedNode)==null?void 0:l.id)!=null?k:"root");if(!e)return!1;let{list:s,schema:i,index:h}=e;i.children&&!i.childImmovable&&(s=i.children,h=i.children.length-1);const g=S(a);s.splice(h+1,0,g),v.setCheckedNode(g),F.push(p.schemas,"\u63D2\u5165\u7EC4\u4EF6")}return(a,l)=>(d(),m("div",G,[t("div",H,[r(n(B),{placeholder:"\u641C\u7D22\u7EC4\u4EF6",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),clearable:"",allowClear:"",value:o.value,"onUpdate:value":l[1]||(l[1]=e=>o.value=e)},{prefix:y(()=>[r(n(_),{name:"icon-chaxun"})]),_:1},8,["modelValue","value"])]),t("div",J,[t("div",K,[(d(!0),m(z,null,D(R.value,(e,s)=>(d(),m("div",{class:Q(["tab cursor-pointer truncate",{checked:c.value.title===e.title}]),key:s,title:e.title,onClick:i=>U(e)},w(e.title),11,O))),128))]),t("div",T,[r(n(A),I({modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=e=>u.value=e)},{group:{name:"edit-draggable",pull:"clone",put:!1},sort:!1,animation:180,ghostClass:"moving"},{clone:n(S),"item-key":"id",class:"grid grid-cols-[auto_auto] px-10px gap-2"}),{item:y(({element:e})=>[t("div",{class:"source-componet-item flex items-center truncate",onClick:s=>j(e)},[r(n(_),{prefix:"",name:e.icon},null,8,["name"]),t("div",null,w(e.label),1)],8,Y)]),_:1},16,["modelValue","clone"]),L(t("div",M,"\u6CA1\u6709\u67E5\u8BE2\u5230\u7684\u7EC4\u4EF6",512),[[P,!u.value.length]])])])]))}});export{le as default};
