import{N as k,x as w,c as N,E as r,g as C}from"./index-DZavvwVo.CLpuZ4sn.js";import{d as D,N as p,h as S,j as V,x,o as i,c as s,F as E,D as I,n as m,l as v,t as P,I as B,m as f,e as F,R as z}from"./framework.C8YhLXwE.js";const j=["title"],A=D({__name:"attributeView",setup(U){const c=p("designer"),d=p("pageSchema"),h=k.getComponentConfings(),n=S(()=>c.state.checkedNode);function g(t){var o;return typeof t.show=="boolean"?t.show:typeof t.show=="function"?(o=t.show)==null?void 0:o.call(t,{values:n.value}):!0}const l=V([]);x(()=>{var t;return(t=c.state.checkedNode)==null?void 0:t.type},()=>{var t,o;const a=(t=c.state.checkedNode)==null?void 0:t.type;if(!a)return[];const e=((o=h[a])==null?void 0:o.config.attribute)??[];l.value=[{label:"组件ID",type:"input",field:"id",componentProps:{disabled:!0}},...e],a==="page"&&l.value.push({label:"画布宽度",type:"EInputSize",field:"canvas.width",editData:d},{label:"画布高度",type:"EInputSize",field:"canvas.height",editData:d})},{immediate:!0});function y(t,o,a,e=n.value){typeof a.onChange=="function"&&a.onChange({value:t,values:e,componentAttributes:l}),a.changeSync?r(t,o,e):z(()=>{r(t,o,e)}),C.push(d.schemas,"编辑组件属性")}return(t,o)=>{var a;return i(),s("div",{class:"epic-attribute-view",key:(a=n.value)==null?void 0:a.id},[(i(!0),s(E,null,I(l.value,e=>{var u;return i(),s("div",{key:e.field},[g(e)?(i(),s("div",{key:0,class:m(["epic-attr-item",e.layout])},[v("div",{class:"epic-attr-label",title:e.label},P(e.label),9,j),v("div",{class:m(["epic-attr-input",{"block!":e.layout==="vertical"}])},[B(f(N),{componentSchema:{...e,componentProps:{...e.componentProps,...e.field==="componentProps.defaultValue"?(u=n.value)==null?void 0:u.componentProps:{},input:!1,field:void 0,hidden:!1},show:!0,noFormItem:!0},"model-value":f(w)(e.field,e.editData??n.value),"onUpdate:modelValue":b=>y(b,e.field,e,e.editData)},null,8,["componentSchema","model-value","onUpdate:modelValue"])],2)],2)):F("",!0)])}),128))])}}});export{A as default};
