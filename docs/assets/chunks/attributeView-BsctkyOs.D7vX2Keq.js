import{T as b,k,s as w,m as r,h as C}from"./index-NP0d70UY.CIJ65HY9.js";import{d as D,N as p,h as N,j as S,x as V,o as s,c as i,F as I,D as P,n as B,l as m,t as F,I as x,m as v,e as z,R as E}from"./framework.Bp6pYewT.js";const U=["title"],j={class:"attr-input"},L=D({__name:"attributeView",setup(T){const d=p("designer"),u=p("pageSchema"),f=b.getComponentConfings(),n=N(()=>d.state.checkedNode);function h(t){var o;return typeof t.show=="boolean"?t.show:typeof t.show=="function"?(o=t.show)==null?void 0:o.call(t,{values:n.value}):!0}const l=S([]);V(()=>{var t;return(t=d.state.checkedNode)==null?void 0:t.type},()=>{var t,o;const a=(t=d.state.checkedNode)==null?void 0:t.type;if(!a)return[];const e=((o=f[a])==null?void 0:o.config.attribute)??[];l.value=[{label:"组件ID",type:"input",field:"id",componentProps:{disabled:!0}},...e],a==="page"&&l.value.push({label:"画布宽度",type:"EInputSize",field:"canvas.width",editData:u},{label:"画布高度",type:"EInputSize",field:"canvas.height",editData:u})},{immediate:!0});function y(t,o,a,e=n.value){typeof a.onChange=="function"&&a.onChange({value:t,values:e,componentAttributes:l}),a.changeSync?r(t,o,e):E(()=>{r(t,o,e)}),C.push(u.schemas,"编辑组件属性")}return(t,o)=>{var a;return s(),i("div",{class:"epic-attribute-view",key:(a=n.value)==null?void 0:a.id},[(s(!0),i(I,null,P(l.value,e=>{var c;return s(),i("div",{key:e.field},[h(e)?(s(),i("div",{key:0,class:B(["attr-item",e.layout])},[m("div",{class:"attr-label",title:e.label},F(e.label),9,U),m("div",j,[x(v(w),{componentSchema:{...e,componentProps:{...e.componentProps,...e.field==="componentProps.defaultValue"?(c=n.value)==null?void 0:c.componentProps:{},input:!1,field:void 0,hidden:!1},show:!0,noFormItem:!0},"model-value":v(k)(e.field,e.editData??n.value),"onUpdate:modelValue":g=>y(g,e.field,e,e.editData)},null,8,["componentSchema","model-value","onUpdate:modelValue"])])],2)):z("",!0)])}),128))])}}});export{L as default};
