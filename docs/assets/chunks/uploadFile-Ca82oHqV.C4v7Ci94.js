import{B as h}from"./index.yeekTgsm.js";import{d as v,j as g,x as m,h as V,ah as o,R as x}from"./framework.Bkcw4pAp.js";import{V as B}from"./index.4XIcSfkM.js";import{s as a}from"./index.C36ewNIB.js";import"./useConfigInject.wP4KD9rp.js";import"./revoke.gXiQk-K7.js";import"./index-dBLYGWys.7krGtM9u.js";import"./commonjsHelpers-CT_km90n.D7mXbCtF.js";import"./index.DOFZgDuz.js";import"./transition.DSy_p8AL.js";import"./useState.B62L11RK.js";import"./createContext.CJeaNZiI.js";import"./getTag.DtjCqBUh.js";import"./baseEach.CkCjRC0N.js";import"./getAllKeys.BwAxqbuf.js";import"./baseIteratee.Cw2_iwum.js";import"./isEqual.3E0r62oz.js";import"./index.Dmr5GdgH.js";import"./getPrototype.57D5m4QL.js";import"./hasIn.BpqLs2Mi.js";import"./collapseMotion.Ds9JQsaA.js";import"./colors.05NN7HEy.js";import"./motion.zWiVtFc2.js";import"./zoom.DcferND9.js";import"./useRefs.BGjcODZH.js";import"./useMergedState.CGSSUBcX.js";import"./index.CXMS5XkY.js";import"./cloneDeep.EyURs6P1.js";import"./Row.C2wd6ogr.js";import"./useFlexGapSupport.DBCY_Bx4.js";import"./index.unhIxbWw.js";import"./baseFindIndex.D7XfJLKM.js";import"./debounce.BlaEsI6c.js";import"./Col.BCsZvFYz.js";import"./FormItemContext.C2zMXT6_.js";import"./isPlainObject.DLjdWRXV.js";import"./omit.-feKOJMZ.js";import"./flatRest.ASmQkvUo.js";const pt=v({props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue","change"],setup(u,{emit:i,attrs:n}){const r=g([]);m(r,t=>{i("update:modelValue",t),i("change",t)}),m(()=>u.modelValue,t=>{if(t!=null&&t.length>0&&r.value!=null){if(r.value===t)return;r.value.length=0,r.value.push(...t)}},{deep:!0,immediate:!0});function s(t){x(()=>{r.value=t})}const f=t=>{var e,p;if(t.file.status!=="uploading"){if(t.file.status==="done"){const l=(p=(e=t.file.response)==null?void 0:e.data)==null?void 0:p.url;if(!t.file.url&&!l){t.file.status="error",a.error("上传失败");return}t.file.url=l}t.file.status==="error"&&a.error("upload error")}},d=t=>{},c=V(()=>({...n,"onUpdate:file-list":s,"file-list":r.value,"onBefore-upload":d,onChange:f}));return()=>o("div",null,{default:()=>[o(B,c.value,{default:()=>[o(h,{},{default:()=>[o("span",{class:"iconfont epic-icon-shangchuan1",style:{"margin-right":"2px"}}),o("span",null,{default:()=>"上传文件"})]})]})]})}});export{pt as default};
