import{z as b,J as k,O as w,U as r,E as C}from"./index-dBLYGWys.7krGtM9u.js";import{d as D,N as p,h as N,j as S,x as V,o as i,c as s,F as E,D as I,n as P,l as m,t as U,I as z,m as v,e as B,R as F}from"./framework.Bkcw4pAp.js";const x=["title"],j={class:"epic-attr-input"},_=D({__name:"attributeView",setup(J){const d=p("designer"),c=p("pageSchema"),f=b.getComponentConfings(),n=N(()=>d.state.checkedNode);function h(t){var o;return typeof t.show=="boolean"?t.show:typeof t.show=="function"?(o=t.show)==null?void 0:o.call(t,{values:n.value}):!0}const l=S([]);V(()=>{var t;return(t=d.state.checkedNode)==null?void 0:t.type},()=>{var t,o;const a=(t=d.state.checkedNode)==null?void 0:t.type;if(!a)return[];const e=((o=f[a])==null?void 0:o.config.attribute)??[];l.value=[{label:"组件ID",type:"input",field:"id",componentProps:{disabled:!0}},...e],a==="page"&&l.value.push({label:"画布宽度",type:"EInputSize",field:"canvas.width",editData:c},{label:"画布高度",type:"EInputSize",field:"canvas.height",editData:c})},{immediate:!0});function y(t,o,a,e=n.value){typeof a.onChange=="function"&&a.onChange({value:t,values:e,componentAttributes:l}),a.changeSync?r(t,o,e):F(()=>{r(t,o,e)}),C.push(c.schemas,"编辑组件属性")}return(t,o)=>{var a;return i(),s("div",{class:"epic-attribute-view",key:(a=n.value)==null?void 0:a.id},[(i(!0),s(E,null,I(l.value,e=>{var u;return i(),s("div",{key:e.field},[h(e)?(i(),s("div",{key:0,class:P(["epic-attr-item",e.layout])},[m("div",{class:"epic-attr-label",title:e.label},U(e.label),9,x),m("div",j,[z(v(w),{componentSchema:{...e,componentProps:{...e.componentProps,...e.field==="componentProps.defaultValue"?(u=n.value)==null?void 0:u.componentProps:{},input:!1,field:void 0,hidden:!1},show:!0,noFormItem:!0},"model-value":v(k)(e.field,e.editData??n.value),"onUpdate:modelValue":g=>y(g,e.field,e,e.editData)},null,8,["componentSchema","model-value","onUpdate:modelValue"])])],2)):B("",!0)])}),128))])}}});export{_ as default};
