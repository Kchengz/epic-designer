import{d as U,x as Q,r as L,h as S,o as g,c as T,I as M,w as F,ai as we,l as I,n as v,m as e,t as G,aj as Se,T as Ee,aM as Z,aB as x,P as H,e as k,b as O,J as Te,aK as Pe,aP as _,j as J,F as Le,D as qe,a0 as Fe,a1 as q,aR as Ke,N as Ve,G as ne,aS as pe,ap as We,Z as Ge,au as Xe,al as fe,M as me,aT as Je,k as Ze,aH as Re,aF as ve}from"./framework.C8YhLXwE.js";import{h as A,i as b,P as Ye,e as K,j as re,_ as V,w as ue,C as Qe,H as _e,I as xe,a3 as Oe,p as Be,o as z,Y as de,L as Ne,m as ee,O as te,a4 as et,t as tt,a5 as st,a6 as at,a7 as ot,V as nt,J as Ue,y as rt,a8 as lt,a2 as it,A as ut,a9 as dt,aa as ct}from"../guide_components_EBuilder.md.CqpDDJB9.js";import{u as pt,i as ft,T as ge,b as mt}from"./index.DeFaXpkR.js";import{c as ye}from"./cloneDeep.EyURs6P1.js";import{i as vt}from"./isEqual.3E0r62oz.js";import{p as gt,a as yt}from"./use-global-config.WP9uySC6.js";const ht=A({a11y:{type:Boolean,default:!0},locale:{type:b(Object)},size:Ye,button:{type:b(Object)},experimentalFeatures:{type:b(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:b(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),le={},Os=U({name:"ElConfigProvider",props:ht,setup(a,{slots:s}){Q(()=>a.message,o=>{Object.assign(le,o??{})},{immediate:!0,deep:!0});const t=gt(a);return()=>L(s,"default",{config:t==null?void 0:t.value})}}),bt=A({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),$t=["textContent"],kt=U({name:"ElBadge"}),Ct=U({...kt,props:bt,setup(a,{expose:s}){const t=a,o=K("badge"),r=S(()=>t.isDot?"":re(t.value)&&re(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`);return s({content:r}),(c,f)=>(g(),T("div",{class:v(e(o).b())},[L(c.$slots,"default"),M(Ee,{name:`${e(o).namespace.value}-zoom-in-center`,persisted:""},{default:F(()=>[we(I("sup",{class:v([e(o).e("content"),e(o).em("content",c.type),e(o).is("fixed",!!c.$slots.default),e(o).is("dot",c.isDot)]),textContent:G(e(r))},null,10,$t),[[Se,!c.hidden&&(e(r)||c.isDot)]])]),_:1},8,["name"])],2))}});var wt=V(Ct,[["__file","badge.vue"]]);const St=ue(wt),Et=A({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:a=>a>=0&&a<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:b(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:b([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:b(Function),default:a=>`${a}%`}}),Tt=["aria-valuenow"],Pt={viewBox:"0 0 100 100"},Lt=["d","stroke","stroke-linecap","stroke-width"],Ft=["d","stroke","opacity","stroke-linecap","stroke-width"],Rt={key:0},_t=U({name:"ElProgress"}),Ot=U({..._t,props:Et,setup(a){const s=a,t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},o=K("progress"),r=S(()=>({width:`${s.percentage}%`,animationDuration:`${s.duration}s`,backgroundColor:R(s.percentage)})),c=S(()=>(s.strokeWidth/s.width*100).toFixed(1)),f=S(()=>["circle","dashboard"].includes(s.type)?Number.parseInt(`${50-Number.parseFloat(c.value)/2}`,10):0),C=S(()=>{const l=f.value,P=s.type==="dashboard";return`
          M 50 50
          m 0 ${P?"":"-"}${l}
          a ${l} ${l} 0 1 1 0 ${P?"-":""}${l*2}
          a ${l} ${l} 0 1 1 0 ${P?"":"-"}${l*2}
          `}),$=S(()=>2*Math.PI*f.value),w=S(()=>s.type==="dashboard"?.75:1),E=S(()=>`${-1*$.value*(1-w.value)/2}px`),y=S(()=>({strokeDasharray:`${$.value*w.value}px, ${$.value}px`,strokeDashoffset:E.value})),d=S(()=>({strokeDasharray:`${$.value*w.value*(s.percentage/100)}px, ${$.value}px`,strokeDashoffset:E.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),n=S(()=>{let l;return s.color?l=R(s.percentage):l=t[s.status]||t.default,l}),p=S(()=>s.status==="warning"?Qe:s.type==="line"?s.status==="success"?_e:xe:s.status==="success"?Oe:Be),i=S(()=>s.type==="line"?12+s.strokeWidth*.4:s.width*.111111+2),m=S(()=>s.format(s.percentage));function u(l){const P=100/l.length;return l.map((N,h)=>x(N)?{color:N,percentage:(h+1)*P}:N).sort((N,h)=>N.percentage-h.percentage)}const R=l=>{var P;const{color:B}=s;if(Z(B))return B(l);if(x(B))return B;{const N=u(B);for(const h of N)if(h.percentage>l)return h.color;return(P=N[N.length-1])==null?void 0:P.color}};return(l,P)=>(g(),T("div",{class:v([e(o).b(),e(o).m(l.type),e(o).is(l.status),{[e(o).m("without-text")]:!l.showText,[e(o).m("text-inside")]:l.textInside}]),role:"progressbar","aria-valuenow":l.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[l.type==="line"?(g(),T("div",{key:0,class:v(e(o).b("bar"))},[I("div",{class:v(e(o).be("bar","outer")),style:H({height:`${l.strokeWidth}px`})},[I("div",{class:v([e(o).be("bar","inner"),{[e(o).bem("bar","inner","indeterminate")]:l.indeterminate},{[e(o).bem("bar","inner","striped")]:l.striped},{[e(o).bem("bar","inner","striped-flow")]:l.stripedFlow}]),style:H(e(r))},[(l.showText||l.$slots.default)&&l.textInside?(g(),T("div",{key:0,class:v(e(o).be("bar","innerText"))},[L(l.$slots,"default",{percentage:l.percentage},()=>[I("span",null,G(e(m)),1)])],2)):k("v-if",!0)],6)],6)],2)):(g(),T("div",{key:1,class:v(e(o).b("circle")),style:H({height:`${l.width}px`,width:`${l.width}px`})},[(g(),T("svg",Pt,[I("path",{class:v(e(o).be("circle","track")),d:e(C),stroke:`var(${e(o).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":l.strokeLinecap,"stroke-width":e(c),fill:"none",style:H(e(y))},null,14,Lt),I("path",{class:v(e(o).be("circle","path")),d:e(C),stroke:e(n),fill:"none",opacity:l.percentage?1:0,"stroke-linecap":l.strokeLinecap,"stroke-width":e(c),style:H(e(d))},null,14,Ft)]))],6)),(l.showText||l.$slots.default)&&!l.textInside?(g(),T("div",{key:2,class:v(e(o).e("text")),style:H({fontSize:`${e(i)}px`})},[L(l.$slots,"default",{percentage:l.percentage},()=>[l.status?(g(),O(e(z),{key:1},{default:F(()=>[(g(),O(Te(e(p))))]),_:1})):(g(),T("span",Rt,G(e(m)),1))])],6)):k("v-if",!0)],10,Tt))}});var Bt=V(Ot,[["__file","progress.vue"]]);const Nt=ue(Bt),De=Symbol("uploadContextKey"),Ut="ElUpload";class Dt extends Error{constructor(s,t,o,r){super(s),this.name="UploadAjaxError",this.status=t,this.method=o,this.url=r}}function he(a,s,t){let o;return t.response?o=`${t.response.error||t.response}`:t.responseText?o=`${t.responseText}`:o=`fail to ${s.method} ${a} ${t.status}`,new Dt(o,t.status,s.method,a)}function Mt(a){const s=a.responseText||a.response;if(!s)return s;try{return JSON.parse(s)}catch{return s}}const It=a=>{typeof XMLHttpRequest>"u"&&de(Ut,"XMLHttpRequest is undefined");const s=new XMLHttpRequest,t=a.action;s.upload&&s.upload.addEventListener("progress",c=>{const f=c;f.percent=c.total>0?c.loaded/c.total*100:0,a.onProgress(f)});const o=new FormData;if(a.data)for(const[c,f]of Object.entries(a.data))Pe(f)&&f.length?o.append(c,...f):o.append(c,f);o.append(a.filename,a.file,a.file.name),s.addEventListener("error",()=>{a.onError(he(t,a,s))}),s.addEventListener("load",()=>{if(s.status<200||s.status>=300)return a.onError(he(t,a,s));a.onSuccess(Mt(s))}),s.open(a.method,t,!0),a.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0);const r=a.headers||{};if(r instanceof Headers)r.forEach((c,f)=>s.setRequestHeader(f,c));else for(const[c,f]of Object.entries(r))Ne(f)||s.setRequestHeader(c,String(f));return s.send(o),s},Me=["text","picture","picture-card"];let jt=1;const ie=()=>Date.now()+jt++,Ie=A({action:{type:String,default:"#"},headers:{type:b(Object)},method:{type:String,default:"post"},data:{type:b([Object,Function,Promise]),default:()=>ee({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:b(Array),default:()=>ee([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Me,default:"text"},httpRequest:{type:b(Function),default:It},disabled:Boolean,limit:Number}),zt=A({...Ie,beforeUpload:{type:b(Function),default:_},beforeRemove:{type:b(Function)},onRemove:{type:b(Function),default:_},onChange:{type:b(Function),default:_},onPreview:{type:b(Function),default:_},onSuccess:{type:b(Function),default:_},onProgress:{type:b(Function),default:_},onError:{type:b(Function),default:_},onExceed:{type:b(Function),default:_},crossorigin:{type:b(String)}}),At=A({files:{type:b(Array),default:()=>ee([])},disabled:{type:Boolean,default:!1},handlePreview:{type:b(Function),default:_},listType:{type:String,values:Me,default:"text"},crossorigin:{type:b(String)}}),Ht={remove:a=>!!a},qt=["onKeydown"],Kt=["src","crossorigin"],Vt=["onClick"],Wt=["title"],Gt=["onClick"],Xt=["onClick"],Jt=U({name:"ElUploadList"}),Zt=U({...Jt,props:At,emits:Ht,setup(a,{emit:s}){const t=a,{t:o}=pt(),r=K("upload"),c=K("icon"),f=K("list"),C=te(),$=J(!1),w=S(()=>[r.b("list"),r.bm("list",t.listType),r.is("disabled",t.disabled)]),E=y=>{s("remove",y)};return(y,d)=>(g(),O(Ke,{tag:"ul",class:v(e(w)),name:e(f).b()},{default:F(()=>[(g(!0),T(Le,null,qe(y.files,n=>(g(),T("li",{key:n.uid||n.name,class:v([e(r).be("list","item"),e(r).is(n.status),{focusing:$.value}]),tabindex:"0",onKeydown:Fe(p=>!e(C)&&E(n),["delete"]),onFocus:d[0]||(d[0]=p=>$.value=!0),onBlur:d[1]||(d[1]=p=>$.value=!1),onClick:d[2]||(d[2]=p=>$.value=!1)},[L(y.$slots,"default",{file:n},()=>[y.listType==="picture"||n.status!=="uploading"&&y.listType==="picture-card"?(g(),T("img",{key:0,class:v(e(r).be("list","item-thumbnail")),src:n.url,crossorigin:y.crossorigin,alt:""},null,10,Kt)):k("v-if",!0),n.status==="uploading"||y.listType!=="picture-card"?(g(),T("div",{key:1,class:v(e(r).be("list","item-info"))},[I("a",{class:v(e(r).be("list","item-name")),onClick:q(p=>y.handlePreview(n),["prevent"])},[M(e(z),{class:v(e(c).m("document"))},{default:F(()=>[M(e(et))]),_:1},8,["class"]),I("span",{class:v(e(r).be("list","item-file-name")),title:n.name},G(n.name),11,Wt)],10,Vt),n.status==="uploading"?(g(),O(e(Nt),{key:0,type:y.listType==="picture-card"?"circle":"line","stroke-width":y.listType==="picture-card"?6:2,percentage:Number(n.percentage),style:H(y.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):k("v-if",!0)],2)):k("v-if",!0),I("label",{class:v(e(r).be("list","item-status-label"))},[y.listType==="text"?(g(),O(e(z),{key:0,class:v([e(c).m("upload-success"),e(c).m("circle-check")])},{default:F(()=>[M(e(_e))]),_:1},8,["class"])):["picture-card","picture"].includes(y.listType)?(g(),O(e(z),{key:1,class:v([e(c).m("upload-success"),e(c).m("check")])},{default:F(()=>[M(e(Oe))]),_:1},8,["class"])):k("v-if",!0)],2),e(C)?k("v-if",!0):(g(),O(e(z),{key:2,class:v(e(c).m("close")),onClick:p=>E(n)},{default:F(()=>[M(e(Be))]),_:2},1032,["class","onClick"])),k(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),k(" This is a bug which needs to be fixed "),k(" TODO: Fix the incorrect navigation interaction "),e(C)?k("v-if",!0):(g(),T("i",{key:3,class:v(e(c).m("close-tip"))},G(e(o)("el.upload.deleteTip")),3)),y.listType==="picture-card"?(g(),T("span",{key:4,class:v(e(r).be("list","item-actions"))},[I("span",{class:v(e(r).be("list","item-preview")),onClick:p=>y.handlePreview(n)},[M(e(z),{class:v(e(c).m("zoom-in"))},{default:F(()=>[M(e(tt))]),_:1},8,["class"])],10,Gt),e(C)?k("v-if",!0):(g(),T("span",{key:0,class:v(e(r).be("list","item-delete")),onClick:p=>E(n)},[M(e(z),{class:v(e(c).m("delete"))},{default:F(()=>[M(e(st))]),_:1},8,["class"])],10,Xt))],2)):k("v-if",!0)])],42,qt))),128)),L(y.$slots,"append")]),_:3},8,["class","name"]))}});var be=V(Zt,[["__file","upload-list.vue"]]);const Yt=A({disabled:{type:Boolean,default:!1}}),Qt={file:a=>Pe(a)},xt=["onDrop","onDragover"],je="ElUploadDrag",es=U({name:je}),ts=U({...es,props:Yt,emits:Qt,setup(a,{emit:s}){const t=Ve(De);t||de(je,"usage: <el-upload><el-upload-dragger /></el-upload>");const o=K("upload"),r=J(!1),c=te(),f=$=>{if(c.value)return;r.value=!1,$.stopPropagation();const w=Array.from($.dataTransfer.files),E=t.accept.value;if(!E){s("file",w);return}const y=w.filter(d=>{const{type:n,name:p}=d,i=p.includes(".")?`.${p.split(".").pop()}`:"",m=n.replace(/\/.*$/,"");return E.split(",").map(u=>u.trim()).filter(u=>u).some(u=>u.startsWith(".")?i===u:/\/\*$/.test(u)?m===u.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(u)?n===u:!1)});s("file",y)},C=()=>{c.value||(r.value=!0)};return($,w)=>(g(),T("div",{class:v([e(o).b("dragger"),e(o).is("dragover",r.value)]),onDrop:q(f,["prevent"]),onDragover:q(C,["prevent"]),onDragleave:w[0]||(w[0]=q(E=>r.value=!1,["prevent"]))},[L($.$slots,"default")],42,xt))}});var ss=V(ts,[["__file","upload-dragger.vue"]]);const as=A({...Ie,beforeUpload:{type:b(Function),default:_},onRemove:{type:b(Function),default:_},onStart:{type:b(Function),default:_},onSuccess:{type:b(Function),default:_},onProgress:{type:b(Function),default:_},onError:{type:b(Function),default:_},onExceed:{type:b(Function),default:_}}),os=["onKeydown"],ns=["name","multiple","accept"],rs=U({name:"ElUploadContent",inheritAttrs:!1}),ls=U({...rs,props:as,setup(a,{expose:s}){const t=a,o=K("upload"),r=te(),c=ne({}),f=ne(),C=i=>{if(i.length===0)return;const{autoUpload:m,limit:u,fileList:R,multiple:l,onStart:P,onExceed:B}=t;if(u&&R.length+i.length>u){B(i,R);return}l||(i=i.slice(0,1));for(const N of i){const h=N;h.uid=ie(),P(h),m&&$(h)}},$=async i=>{if(f.value.value="",!t.beforeUpload)return E(i);let m,u={};try{const l=t.data,P=t.beforeUpload(i);u=pe(t.data)?ye(t.data):t.data,m=await P,pe(t.data)&&vt(l,u)&&(u=ye(t.data))}catch{m=!1}if(m===!1){t.onRemove(i);return}let R=i;m instanceof Blob&&(m instanceof File?R=m:R=new File([m],i.name,{type:i.type})),E(Object.assign(R,{uid:i.uid}),u)},w=async(i,m)=>Z(i)?i(m):i,E=async(i,m)=>{const{headers:u,data:R,method:l,withCredentials:P,name:B,action:N,onProgress:h,onSuccess:Y,onError:ce,httpRequest:He}=t;try{m=await w(m??R,i)}catch{t.onRemove(i);return}const{uid:se}=i,ae={headers:u||{},withCredentials:P,file:i,data:m,method:l,filename:B,action:N,onProgress:W=>{h(W,i)},onSuccess:W=>{Y(W,i),delete c.value[se]},onError:W=>{ce(W,i),delete c.value[se]}},oe=He(ae);c.value[se]=oe,oe instanceof Promise&&oe.then(ae.onSuccess,ae.onError)},y=i=>{const m=i.target.files;m&&C(Array.from(m))},d=()=>{r.value||(f.value.value="",f.value.click())},n=()=>{d()};return s({abort:i=>{at(c.value).filter(i?([u])=>String(i.uid)===u:()=>!0).forEach(([u,R])=>{R instanceof XMLHttpRequest&&R.abort(),delete c.value[u]})},upload:$}),(i,m)=>(g(),T("div",{class:v([e(o).b(),e(o).m(i.listType),e(o).is("drag",i.drag)]),tabindex:"0",onClick:d,onKeydown:Fe(q(n,["self"]),["enter","space"])},[i.drag?(g(),O(ss,{key:0,disabled:e(r),onFile:C},{default:F(()=>[L(i.$slots,"default")]),_:3},8,["disabled"])):L(i.$slots,"default",{key:1}),I("input",{ref_key:"inputRef",ref:f,class:v(e(o).e("input")),name:i.name,multiple:i.multiple,accept:i.accept,type:"file",onChange:y,onClick:m[0]||(m[0]=q(()=>{},["stop"]))},null,42,ns)],42,os))}});var $e=V(ls,[["__file","upload-content.vue"]]);const ke="ElUpload",Ce=a=>{var s;(s=a.url)!=null&&s.startsWith("blob:")&&URL.revokeObjectURL(a.url)},is=(a,s)=>{const t=ot(a,"fileList",void 0,{passive:!0}),o=d=>t.value.find(n=>n.uid===d.uid);function r(d){var n;(n=s.value)==null||n.abort(d)}function c(d=["ready","uploading","success","fail"]){t.value=t.value.filter(n=>!d.includes(n.status))}const f=(d,n)=>{const p=o(n);p&&(console.error(d),p.status="fail",t.value.splice(t.value.indexOf(p),1),a.onError(d,p,t.value),a.onChange(p,t.value))},C=(d,n)=>{const p=o(n);p&&(a.onProgress(d,p,t.value),p.status="uploading",p.percentage=Math.round(d.percent))},$=(d,n)=>{const p=o(n);p&&(p.status="success",p.response=d,a.onSuccess(d,p,t.value),a.onChange(p,t.value))},w=d=>{Ne(d.uid)&&(d.uid=ie());const n={name:d.name,percentage:0,status:"ready",size:d.size,raw:d,uid:d.uid};if(a.listType==="picture-card"||a.listType==="picture")try{n.url=URL.createObjectURL(d)}catch(p){nt(ke,p.message),a.onError(p,n,t.value)}t.value=[...t.value,n],a.onChange(n,t.value)},E=async d=>{const n=d instanceof File?o(d):d;n||de(ke,"file to be removed not found");const p=i=>{r(i);const m=t.value;m.splice(m.indexOf(i),1),a.onRemove(i,m),Ce(i)};a.beforeRemove?await a.beforeRemove(n,t.value)!==!1&&p(n):p(n)};function y(){t.value.filter(({status:d})=>d==="ready").forEach(({raw:d})=>{var n;return d&&((n=s.value)==null?void 0:n.upload(d))})}return Q(()=>a.listType,d=>{d!=="picture-card"&&d!=="picture"||(t.value=t.value.map(n=>{const{raw:p,url:i}=n;if(!i&&p)try{n.url=URL.createObjectURL(p)}catch(m){a.onError(m,n,t.value)}return n}))}),Q(t,d=>{for(const n of d)n.uid||(n.uid=ie()),n.status||(n.status="success")},{immediate:!0,deep:!0}),{uploadFiles:t,abort:r,clearFiles:c,handleError:f,handleProgress:C,handleStart:w,handleSuccess:$,handleRemove:E,submit:y,revokeFileObjectURL:Ce}},us=U({name:"ElUpload"}),ds=U({...us,props:zt,setup(a,{expose:s}){const t=a,o=te(),r=ne(),{abort:c,submit:f,clearFiles:C,uploadFiles:$,handleStart:w,handleError:E,handleRemove:y,handleSuccess:d,handleProgress:n,revokeFileObjectURL:p}=is(t,r),i=S(()=>t.listType==="picture-card"),m=S(()=>({...t,fileList:$.value,onStart:w,onProgress:n,onSuccess:d,onError:E,onRemove:y}));return We(()=>{$.value.forEach(p)}),Ge(De,{accept:Xe(t,"accept")}),s({abort:c,submit:f,clearFiles:C,handleStart:w,handleRemove:y}),(u,R)=>(g(),T("div",null,[e(i)&&u.showFileList?(g(),O(be,{key:0,disabled:e(o),"list-type":u.listType,files:e($),crossorigin:u.crossorigin,"handle-preview":u.onPreview,onRemove:e(y)},fe({append:F(()=>[M($e,me({ref_key:"uploadRef",ref:r},e(m)),{default:F(()=>[u.$slots.trigger?L(u.$slots,"trigger",{key:0}):k("v-if",!0),!u.$slots.trigger&&u.$slots.default?L(u.$slots,"default",{key:1}):k("v-if",!0)]),_:3},16)]),_:2},[u.$slots.file?{name:"default",fn:F(({file:l})=>[L(u.$slots,"file",{file:l})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):k("v-if",!0),!e(i)||e(i)&&!u.showFileList?(g(),O($e,me({key:1,ref_key:"uploadRef",ref:r},e(m)),{default:F(()=>[u.$slots.trigger?L(u.$slots,"trigger",{key:0}):k("v-if",!0),!u.$slots.trigger&&u.$slots.default?L(u.$slots,"default",{key:1}):k("v-if",!0)]),_:3},16)):k("v-if",!0),u.$slots.trigger?L(u.$slots,"default",{key:2}):k("v-if",!0),L(u.$slots,"tip"),!e(i)&&u.showFileList?(g(),O(be,{key:3,disabled:e(o),"list-type":u.listType,files:e($),crossorigin:u.crossorigin,"handle-preview":u.onPreview,onRemove:e(y)},fe({_:2},[u.$slots.file?{name:"default",fn:F(({file:l})=>[L(u.$slots,"file",{file:l})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):k("v-if",!0)]))}});var cs=V(ds,[["__file","upload.vue"]]);const Bs=ue(cs),ze=["success","info","warning","error"],D=ee({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Ue?document.body:void 0}),ps=A({customClass:{type:String,default:D.customClass},center:{type:Boolean,default:D.center},dangerouslyUseHTMLString:{type:Boolean,default:D.dangerouslyUseHTMLString},duration:{type:Number,default:D.duration},icon:{type:ft,default:D.icon},id:{type:String,default:D.id},message:{type:b([String,Object,Function]),default:D.message},onClose:{type:b(Function),required:!1},showClose:{type:Boolean,default:D.showClose},type:{type:String,values:ze,default:D.type},offset:{type:Number,default:D.offset},zIndex:{type:Number,default:D.zIndex},grouping:{type:Boolean,default:D.grouping},repeatNum:{type:Number,default:D.repeatNum}}),fs={destroy:()=>!0},j=Je([]),ms=a=>{const s=j.findIndex(r=>r.id===a),t=j[s];let o;return s>0&&(o=j[s-1]),{current:t,prev:o}},vs=a=>{const{prev:s}=ms(a);return s?s.vm.exposed.bottom.value:0},gs=(a,s)=>j.findIndex(o=>o.id===a)>0?20:s,ys=["id"],hs=["innerHTML"],bs=U({name:"ElMessage"}),$s=U({...bs,props:ps,emits:fs,setup(a,{expose:s}){const t=a,{Close:o}=mt,{ns:r,zIndex:c}=yt("message"),{currentZIndex:f,nextZIndex:C}=c,$=J(),w=J(!1),E=J(0);let y;const d=S(()=>t.type?t.type==="error"?"danger":t.type:"info"),n=S(()=>{const h=t.type;return{[r.bm("icon",h)]:h&&ge[h]}}),p=S(()=>t.icon||ge[t.type]||""),i=S(()=>vs(t.id)),m=S(()=>gs(t.id,t.offset)+i.value),u=S(()=>E.value+m.value),R=S(()=>({top:`${m.value}px`,zIndex:f.value}));function l(){t.duration!==0&&({stop:y}=it(()=>{B()},t.duration))}function P(){y==null||y()}function B(){w.value=!1}function N({code:h}){h===ut.esc&&B()}return Ze(()=>{l(),C(),w.value=!0}),Q(()=>t.repeatNum,()=>{P(),l()}),rt(document,"keydown",N),lt($,()=>{E.value=$.value.getBoundingClientRect().height}),s({visible:w,bottom:u,close:B}),(h,Y)=>(g(),O(Ee,{name:e(r).b("fade"),onBeforeLeave:h.onClose,onAfterLeave:Y[0]||(Y[0]=ce=>h.$emit("destroy")),persisted:""},{default:F(()=>[we(I("div",{id:h.id,ref_key:"messageRef",ref:$,class:v([e(r).b(),{[e(r).m(h.type)]:h.type},e(r).is("center",h.center),e(r).is("closable",h.showClose),h.customClass]),style:H(e(R)),role:"alert",onMouseenter:P,onMouseleave:l},[h.repeatNum>1?(g(),O(e(St),{key:0,value:h.repeatNum,type:e(d),class:v(e(r).e("badge"))},null,8,["value","type","class"])):k("v-if",!0),e(p)?(g(),O(e(z),{key:1,class:v([e(r).e("icon"),e(n)])},{default:F(()=>[(g(),O(Te(e(p))))]),_:1},8,["class"])):k("v-if",!0),L(h.$slots,"default",{},()=>[h.dangerouslyUseHTMLString?(g(),T(Le,{key:1},[k(" Caution here, message could've been compromised, never use user's input as message "),I("p",{class:v(e(r).e("content")),innerHTML:h.message},null,10,hs)],2112)):(g(),T("p",{key:0,class:v(e(r).e("content"))},G(h.message),3))]),h.showClose?(g(),O(e(z),{key:2,class:v(e(r).e("closeBtn")),onClick:q(B,["stop"])},{default:F(()=>[M(e(o))]),_:1},8,["class","onClick"])):k("v-if",!0)],46,ys),[[Se,w.value]])]),_:3},8,["name","onBeforeLeave"]))}});var ks=V($s,[["__file","message.vue"]]);let Cs=1;const Ae=a=>{const s=!a||x(a)||Re(a)||Z(a)?{message:a}:a,t={...D,...s};if(!t.appendTo)t.appendTo=document.body;else if(x(t.appendTo)){let o=document.querySelector(t.appendTo);dt(o)||(o=document.body),t.appendTo=o}return t},ws=a=>{const s=j.indexOf(a);if(s===-1)return;j.splice(s,1);const{handler:t}=a;t.close()},Ss=({appendTo:a,...s},t)=>{const o=`message_${Cs++}`,r=s.onClose,c=document.createElement("div"),f={...s,id:o,onClose:()=>{r==null||r(),ws(E)},onDestroy:()=>{ve(null,c)}},C=M(ks,f,Z(f.message)||Re(f.message)?{default:Z(f.message)?f.message:()=>f.message}:null);C.appContext=t||X._context,ve(C,c),a.appendChild(c.firstElementChild);const $=C.component,E={id:o,vnode:C,vm:$,handler:{close:()=>{$.exposed.visible.value=!1}},props:C.component.props};return E},X=(a={},s)=>{if(!Ue)return{close:()=>{}};if(re(le.max)&&j.length>=le.max)return{close:()=>{}};const t=Ae(a);if(t.grouping&&j.length){const r=j.find(({vnode:c})=>{var f;return((f=c.props)==null?void 0:f.message)===t.message});if(r)return r.props.repeatNum+=1,r.props.type=t.type,r.handler}const o=Ss(t,s);return j.push(o),o.handler};ze.forEach(a=>{X[a]=(s={},t)=>{const o=Ae(s);return X({...o,type:a},t)}});function Es(a){for(const s of j)(!a||a===s.props.type)&&s.handler.close()}X.closeAll=Es;X._context=null;const Ns=ct(X,"$message");export{Os as C,Bs as E,Ns as a,St as b,Nt as c,bt as d,ht as e,Me as f,ie as g,zt as h,as as i,Ht as j,At as k,Qt as l,le as m,Yt as n,De as o,Et as p,D as q,fs as r,ps as s,ze as t,Ie as u};
