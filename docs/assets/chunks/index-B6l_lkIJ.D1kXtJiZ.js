import{d as E,N as y,j as b,h as k,o as d,c as m,l as t,I as r,w,m as n,F as H,D as I,t as V,M as R,ai as U,aj as z,n as F}from"./framework.Bkcw4pAp.js";import{R as L}from"./vuedraggable.umd-Bo-O9gJ9.C2GNCwCd.js";import{z as u,H as B,Z as M,E as P}from"./index-dBLYGWys.7krGtM9u.js";import{m as N}from"./icon.vue_vue_type_script_setup_true_lang-BKjDMfHm.CAFchCcp.js";import"./commonjsHelpers-CT_km90n.D7mXbCtF.js";const T={class:"epic-component-view flex flex-col"},Z={class:"epic-search-box px-10px py-6px"},q={class:"flex flex-1 overflow-auto"},G={class:"epic-tabs-box"},J=["title","onClick"],K={class:"h-full flex-1 overflow-auto py-2 box-border"},O=["onClick"],Q={class:"text-center pt-42px text-gray-400"},le=E({__name:"index",setup(A){const _=u.getComponent("input"),v=y("pageSchema"),f=y("designer"),h=u.getComponentSchemaGroups(),o=b(""),x={title:"全部",list:[]},c=b(x),S=k(()=>[x,...h.value]),p=k(()=>{let a=c.value.list;if(c.value.title==="全部"){const l=h.value.map(e=>e.list);a=[].concat(...l)}return o.value?a.filter(l=>{var e;return(e=l.label)==null?void 0:e.includes(o.value)}):a});function j(a){c.value=a}function D(a){var l;const e=M(v.schemas,((l=f.state.checkedNode)==null?void 0:l.id)??"root");if(!e)return!1;let{list:i,schema:s,index:g}=e;s.children&&!u.getComponentConfingByType(s.type).childImmovable&&(i=s.children,g=s.children.length-1);const C=B(a);i.splice(g+1,0,C),f.setCheckedNode(C),P.push(v.schemas,"插入组件")}return(a,l)=>(d(),m("div",T,[t("div",Z,[r(n(_),{placeholder:"搜索组件",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),clearable:"",allowClear:"",value:o.value,"onUpdate:value":l[1]||(l[1]=e=>o.value=e)},{prefix:w(()=>[r(n(N),{name:"icon-chaxun"})]),_:1},8,["modelValue","value"])]),t("div",q,[t("div",G,[(d(!0),m(H,null,I(S.value,(e,i)=>(d(),m("div",{class:F(["epic-tab cursor-pointer truncate",{checked:c.value.title===e.title}]),key:i,title:e.title,onClick:s=>j(e)},V(e.title),11,J))),128))]),t("div",K,[r(n(L),R({modelValue:p.value,"onUpdate:modelValue":l[2]||(l[2]=e=>p.value=e)},{group:{name:"edit-draggable",pull:"clone",put:!1},sort:!1,animation:180,ghostClass:"moving"},{clone:n(B),"item-key":"id",class:"grid grid-cols-[auto_auto] px-10px gap-2"}),{item:w(({element:e})=>[t("div",{class:"epic-componet-item flex items-center truncate",onClick:i=>D(e)},[r(n(N),{prefix:"",name:n(u).getComponentConfingByType(e.type).icon??""},null,8,["name"]),t("div",null,V(e.label),1)],8,O)]),_:1},16,["modelValue","clone"]),U(t("div",Q,"没有查询到的组件",512),[[z,!p.value.length]])])])]))}});export{le as default};
