import{aB as K,N as I,h,x as W,R as J,aq as Q,j as z,aK as E,aw as de,ao as M,d as S,a2 as Z,o as x,b as H,w as X,l as j,n as C,m as t,ai as V,c as y,am as $,a1 as F,aL as N,r as R,F as be,a as Y,t as _,e as G,J as ee,P as ve,Z as ce,aE as me}from"./framework.C8YhLXwE.js";import{P as le,U as w,j as A,R as D,W as P,O as fe,V as ae,N as q,L as ke,e as T,_ as O,h as pe,i as he,w as ge,Q as te}from"../guide_components_EBuilder.md.CqpDDJB9.js";import{u as U,a as ne}from"./use-form-item.DdfdZquZ.js";import{i as Ce}from"./isEqual.3E0r62oz.js";import{p as xe}from"./pick.v3qu0c6s.js";const oe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:le,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},se={[w]:e=>K(e)||A(e)||D(e),change:e=>K(e)||A(e)||D(e)},B=Symbol("checkboxGroupContextKey"),ye=({model:e,isChecked:i})=>{const u=I(B,void 0),n=h(()=>{var f,m;const o=(f=u==null?void 0:u.max)==null?void 0:f.value,b=(m=u==null?void 0:u.min)==null?void 0:m.value;return!P(o)&&e.value.length>=o&&!i.value||!P(b)&&e.value.length<=b&&i.value});return{isDisabled:fe(h(()=>(u==null?void 0:u.disabled.value)||n.value)),isLimitDisabled:n}},Le=(e,{model:i,isLimitExceeded:u,hasOwnLabel:n,isDisabled:k,isLabeledByFormItem:f})=>{const m=I(B,void 0),{formItem:o}=U(),{emit:b}=Q();function l(a){var d,c;return a===e.trueLabel||a===!0?(d=e.trueLabel)!=null?d:!0:(c=e.falseLabel)!=null?c:!1}function v(a,d){b("change",l(a),d)}function p(a){if(u.value)return;const d=a.target;b("change",l(d.checked),a)}async function L(a){u.value||!n.value&&!k.value&&f.value&&(a.composedPath().some(r=>r.tagName==="LABEL")||(i.value=l([!1,e.falseLabel].includes(i.value)),await J(),v(i.value,a)))}const s=h(()=>(m==null?void 0:m.validateEvent)||e.validateEvent);return W(()=>e.modelValue,()=>{s.value&&(o==null||o.validate("change").catch(a=>ae()))}),{handleChange:p,onClickRoot:L}},Se=e=>{const i=z(!1),{emit:u}=Q(),n=I(B,void 0),k=h(()=>P(n)===!1),f=z(!1),m=h({get(){var o,b;return k.value?(o=n==null?void 0:n.modelValue)==null?void 0:o.value:(b=e.modelValue)!=null?b:i.value},set(o){var b,l;k.value&&E(o)?(f.value=((b=n==null?void 0:n.max)==null?void 0:b.value)!==void 0&&o.length>(n==null?void 0:n.max.value)&&o.length>m.value.length,f.value===!1&&((l=n==null?void 0:n.changeEvent)==null||l.call(n,o))):(u(w,o),i.value=o)}});return{model:m,isGroup:k,isLimitExceeded:f}},Be=(e,i,{model:u})=>{const n=I(B,void 0),k=z(!1),f=h(()=>{const l=u.value;return D(l)?l:E(l)?de(e.label)?l.map(M).some(v=>Ce(v,e.label)):l.map(M).includes(e.label):l!=null?l===e.trueLabel:!!l}),m=q(h(()=>{var l;return(l=n==null?void 0:n.size)==null?void 0:l.value}),{prop:!0}),o=q(h(()=>{var l;return(l=n==null?void 0:n.size)==null?void 0:l.value})),b=h(()=>!!i.default||!ke(e.label));return{checkboxButtonSize:m,isChecked:f,isFocused:k,checkboxSize:o,hasOwnLabel:b}},Ee=(e,{model:i})=>{function u(){E(i.value)&&!i.value.includes(e.label)?i.value.push(e.label):i.value=e.trueLabel||!0}e.checked&&u()},ie=(e,i)=>{const{formItem:u}=U(),{model:n,isGroup:k,isLimitExceeded:f}=Se(e),{isFocused:m,isChecked:o,checkboxButtonSize:b,checkboxSize:l,hasOwnLabel:v}=Be(e,i,{model:n}),{isDisabled:p}=ye({model:n,isChecked:o}),{inputId:L,isLabeledByFormItem:s}=ne(e,{formItemContext:u,disableIdGeneration:v,disableIdManagement:k}),{handleChange:a,onClickRoot:d}=Le(e,{model:n,isLimitExceeded:f,hasOwnLabel:v,isDisabled:p,isLabeledByFormItem:s});return Ee(e,{model:n}),{inputId:L,isLabeledByFormItem:s,isChecked:o,isDisabled:p,isFocused:m,checkboxButtonSize:b,checkboxSize:l,hasOwnLabel:v,model:n,handleChange:a,onClickRoot:d}},Ie=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Ve=["id","indeterminate","disabled","value","name","tabindex"],$e=S({name:"ElCheckbox"}),Fe=S({...$e,props:oe,emits:se,setup(e){const i=e,u=Z(),{inputId:n,isLabeledByFormItem:k,isChecked:f,isDisabled:m,isFocused:o,checkboxSize:b,hasOwnLabel:l,model:v,handleChange:p,onClickRoot:L}=ie(i,u),s=T("checkbox"),a=h(()=>[s.b(),s.m(b.value),s.is("disabled",m.value),s.is("bordered",i.border),s.is("checked",f.value)]),d=h(()=>[s.e("input"),s.is("disabled",m.value),s.is("checked",f.value),s.is("indeterminate",i.indeterminate),s.is("focus",o.value)]);return(c,r)=>(x(),H(ee(!t(l)&&t(k)?"span":"label"),{class:C(t(a)),"aria-controls":c.indeterminate?c.controls:null,onClick:t(L)},{default:X(()=>[j("span",{class:C(t(d))},[c.trueLabel||c.falseLabel?V((x(),y("input",{key:0,id:t(n),"onUpdate:modelValue":r[0]||(r[0]=g=>$(v)?v.value=g:null),class:C(t(s).e("original")),type:"checkbox",indeterminate:c.indeterminate,name:c.name,tabindex:c.tabindex,disabled:t(m),"true-value":c.trueLabel,"false-value":c.falseLabel,onChange:r[1]||(r[1]=(...g)=>t(p)&&t(p)(...g)),onFocus:r[2]||(r[2]=g=>o.value=!0),onBlur:r[3]||(r[3]=g=>o.value=!1),onClick:r[4]||(r[4]=F(()=>{},["stop"]))},null,42,Ie)),[[N,t(v)]]):V((x(),y("input",{key:1,id:t(n),"onUpdate:modelValue":r[5]||(r[5]=g=>$(v)?v.value=g:null),class:C(t(s).e("original")),type:"checkbox",indeterminate:c.indeterminate,disabled:t(m),value:c.label,name:c.name,tabindex:c.tabindex,onChange:r[6]||(r[6]=(...g)=>t(p)&&t(p)(...g)),onFocus:r[7]||(r[7]=g=>o.value=!0),onBlur:r[8]||(r[8]=g=>o.value=!1),onClick:r[9]||(r[9]=F(()=>{},["stop"]))},null,42,Ve)),[[N,t(v)]]),j("span",{class:C(t(s).e("inner"))},null,2)],2),t(l)?(x(),y("span",{key:0,class:C(t(s).e("label"))},[R(c.$slots,"default"),c.$slots.default?G("v-if",!0):(x(),y(be,{key:0},[Y(_(c.label),1)],64))],2)):G("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Ne=O(Fe,[["__file","checkbox.vue"]]);const we=["name","tabindex","disabled","true-value","false-value"],ze=["name","tabindex","disabled","value"],Ge=S({name:"ElCheckboxButton"}),De=S({...Ge,props:oe,emits:se,setup(e){const i=e,u=Z(),{isFocused:n,isChecked:k,isDisabled:f,checkboxButtonSize:m,model:o,handleChange:b}=ie(i,u),l=I(B,void 0),v=T("checkbox"),p=h(()=>{var s,a,d,c;const r=(a=(s=l==null?void 0:l.fill)==null?void 0:s.value)!=null?a:"";return{backgroundColor:r,borderColor:r,color:(c=(d=l==null?void 0:l.textColor)==null?void 0:d.value)!=null?c:"",boxShadow:r?`-1px 0 0 0 ${r}`:void 0}}),L=h(()=>[v.b("button"),v.bm("button",m.value),v.is("disabled",f.value),v.is("checked",k.value),v.is("focus",n.value)]);return(s,a)=>(x(),y("label",{class:C(t(L))},[s.trueLabel||s.falseLabel?V((x(),y("input",{key:0,"onUpdate:modelValue":a[0]||(a[0]=d=>$(o)?o.value=d:null),class:C(t(v).be("button","original")),type:"checkbox",name:s.name,tabindex:s.tabindex,disabled:t(f),"true-value":s.trueLabel,"false-value":s.falseLabel,onChange:a[1]||(a[1]=(...d)=>t(b)&&t(b)(...d)),onFocus:a[2]||(a[2]=d=>n.value=!0),onBlur:a[3]||(a[3]=d=>n.value=!1),onClick:a[4]||(a[4]=F(()=>{},["stop"]))},null,42,we)),[[N,t(o)]]):V((x(),y("input",{key:1,"onUpdate:modelValue":a[5]||(a[5]=d=>$(o)?o.value=d:null),class:C(t(v).be("button","original")),type:"checkbox",name:s.name,tabindex:s.tabindex,disabled:t(f),value:s.label,onChange:a[6]||(a[6]=(...d)=>t(b)&&t(b)(...d)),onFocus:a[7]||(a[7]=d=>n.value=!0),onBlur:a[8]||(a[8]=d=>n.value=!1),onClick:a[9]||(a[9]=F(()=>{},["stop"]))},null,42,ze)),[[N,t(o)]]),s.$slots.default||s.label?(x(),y("span",{key:2,class:C(t(v).be("button","inner")),style:ve(t(k)?t(p):void 0)},[R(s.$slots,"default",{},()=>[Y(_(s.label),1)])],6)):G("v-if",!0)],2))}});var ue=O(De,[["__file","checkbox-button.vue"]]);const Pe=pe({modelValue:{type:he(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:le,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Re={[w]:e=>E(e),change:e=>E(e)},Te=S({name:"ElCheckboxGroup"}),Oe=S({...Te,props:Pe,emits:Re,setup(e,{emit:i}){const u=e,n=T("checkbox"),{formItem:k}=U(),{inputId:f,isLabeledByFormItem:m}=ne(u,{formItemContext:k}),o=async l=>{i(w,l),await J(),i("change",l)},b=h({get(){return u.modelValue},set(l){o(l)}});return ce(B,{...xe(me(u),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:b,changeEvent:o}),W(()=>u.modelValue,()=>{u.validateEvent&&(k==null||k.validate("change").catch(l=>ae()))}),(l,v)=>{var p;return x(),H(ee(l.tag),{id:t(f),class:C(t(n).b("group")),role:"group","aria-label":t(m)?void 0:l.label||"checkbox-group","aria-labelledby":t(m)?(p=t(k))==null?void 0:p.labelId:void 0},{default:X(()=>[R(l.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var re=O(Oe,[["__file","checkbox-group.vue"]]);const qe=ge(Ne,{CheckboxButton:ue,CheckboxGroup:re}),We=te(ue),Je=te(re);export{We as E,qe as a,Je as b,Re as c,Pe as d,se as e,oe as f,B as g};
