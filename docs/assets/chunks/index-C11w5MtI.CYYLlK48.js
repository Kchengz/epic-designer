import{d as T,N as b,j as w,h as V,o as m,c as v,l as t,I as r,w as N,m as n,F as A,D as F,t as _,M as I,ai as L,aj as q,n as z}from"./framework.C8YhLXwE.js";import{R as E}from"./vuedraggable.umd-Bo-O9gJ9.CXDJdMaS.js";import{N as u,C as B,A as G,g as H}from"./index-DZavvwVo.CLpuZ4sn.js";import{m as S}from"./icon.vue_vue_type_script_setup_true_lang-BKjDMfHm.D0t_j6sh.js";import"./commonjsHelpers-CT_km90n.D7mXbCtF.js";const J={class:"epic-component-view flex flex-col"},K={class:"epic-search-box px-10px py-6px"},M={class:"flex flex-1 overflow-auto"},O={class:"epic-tabs-box"},P=["title","onClick"],Q={class:"h-full flex-1 overflow-auto py-2 box-border"},W=["onClick"],X={class:"text-center pt-42px text-gray-400"},te=T({__name:"index",setup($){const U=u.getComponent("input"),f=b("pageSchema"),g=b("designer"),h=u.getComponentSchemaGroups(),o=w(""),x={title:"全部",list:[]},s=w(x),j=V(()=>[x,...h.value]),p=V(()=>{let a=s.value.list;if(s.value.title==="全部"){const l=h.value.map(e=>e.list);a=[].concat(...l)}return o.value?a.filter(l=>{var e;return(e=l.label)==null?void 0:e.includes(o.value)}):a});function D(a){s.value=a}function R(a){var l,e,i;const d=G(f.schemas,((l=g.state.checkedNode)==null?void 0:l.id)??"root");if(!d)return!1;let{list:C,schema:c,index:k}=d;c.children&&!((i=(e=u.getComponentConfingByType(c.type))==null?void 0:e.editConstraints)!=null&&i.childImmovable)&&(C=c.children,k=c.children.length-1);const y=B(a);C.splice(k+1,0,y),g.setCheckedNode(y),H.push(f.schemas,"插入组件")}return(a,l)=>(m(),v("div",J,[t("div",K,[r(n(U),{placeholder:"搜索组件",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),clearable:"",allowClear:"",value:o.value,"onUpdate:value":l[1]||(l[1]=e=>o.value=e)},{prefix:N(()=>[r(n(S),{name:"icon-chaxun"})]),_:1},8,["modelValue","value"])]),t("div",M,[t("div",O,[(m(!0),v(A,null,F(j.value,(e,i)=>(m(),v("div",{class:z(["epic-tab cursor-pointer truncate",{checked:s.value.title===e.title}]),key:i,title:e.title,onClick:d=>D(e)},_(e.title),11,P))),128))]),t("div",Q,[r(n(E),I({modelValue:p.value,"onUpdate:modelValue":l[2]||(l[2]=e=>p.value=e)},{group:{name:"edit-draggable",pull:"clone",put:!1},sort:!1,animation:180,ghostClass:"moving"},{clone:n(B),"item-key":"id",class:"grid grid-cols-[auto_auto] px-10px gap-2"}),{item:N(({element:e})=>[t("div",{class:"epic-componet-item flex items-center truncate",onClick:i=>R(e)},[r(n(S),{prefix:"",name:n(u).getComponentConfingByType(e.type).icon??""},null,8,["name"]),t("div",null,_(e.label),1)],8,W)]),_:1},16,["modelValue","clone"]),L(t("div",X,"没有查询到的组件",512),[[q,!p.value.length]])])])]))}});export{te as default};
