import{N as n}from"./index-DZavvwVo.CLpuZ4sn.js";import{d as b,j as v,x as m,o as h,b as w,w as C,I as N,m as p,R as U}from"./framework.C8YhLXwE.js";const y=b({__name:"index",props:{modelValue:{}},emits:["update:modelValue"],setup(d,{emit:i}){const r=n.getComponent("input"),s=n.getComponent("select"),c=d,f=i,e=v(null),u=v("px"),x=[{label:"px",value:"px"},{label:"%",value:"%"},{label:"vw",value:"vw"},{label:"vh",value:"vh"},{label:"rem",value:"rem"},{label:"em",value:"em"},{label:"pt",value:"pt"}];m(()=>c.modelValue,t=>{if(!t)return;if(typeof t=="number"){e.value=String(t),u.value="px";return}const l=parseFloat(t);if(isNaN(l))return e.value=null,!1;const a=/^(\d+(\.\d+)?)(px|%|vw|vh|rem|em|pt){1}$/,o=t.trim().match(a);e.value=(o==null?void 0:o[1])??null,u.value=(o==null?void 0:o[3])??""},{immediate:!0}),m(()=>u.value+e.value,()=>{V()});function V(){U(()=>f("update:modelValue",e.value?e.value+u.value:void 0))}return(t,l)=>(h(),w(p(r),{class:"epic-input-size",modelValue:e.value,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value=a),value:e.value,"onUpdate:value":l[3]||(l[3]=a=>e.value=a),type:"number",min:"0",placeholder:"请输入"},{suffix:C(()=>[N(p(s),{value:u.value,"onUpdate:value":l[0]||(l[0]=a=>u.value=a),modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=a=>u.value=a),style:{width:"68px"},options:x},null,8,["value","modelValue"])]),_:1},8,["modelValue","value"]))}});export{y as default};
